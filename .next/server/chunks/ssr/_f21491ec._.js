module.exports=[50944,(a,b,c)=>{b.exports=a.r(74137)},3109,a=>{"use strict";a.s(["default",()=>o]);var b=a.i(87924),c=a.i(72131),d=a.i(75003),e=a.i(50944),f=a.i(95245),g=a.i(56757),h=a.i(59501),i=a.i(38246),j=a.i(40695),k=a.i(58213),l=a.i(5522),m=a.i(5112);let n=g.z.object({identifier:g.z.string().min(3,"Email or username must be at least 3 characters"),password:g.z.string().min(6,"Password must be at least 6 characters")});function o(){let a=(0,e.useRouter)(),g=(0,e.useSearchParams)(),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),A=g.get("callbackUrl")||"/",B=(0,f.useForm)({resolver:(0,h.zodResolver)(n),defaultValues:{identifier:"",password:""}});async function C(b){p(!0),t("");try{let c=await (0,d.signIn)("credentials",{identifier:b.identifier,password:b.password,redirect:!1});c?.error?c.error.includes("Please verify your email")?(x("Email Not Verified"),z("We've sent you a new verification link. Please check your inbox."),v(!0)):t(c.error):c?.ok&&(t(""),a.push(A),a.refresh())}catch(a){console.error("Sign in unexpected error:",a),t("Something went wrong. Please try again.")}finally{p(!1)}}async function D(){r(!0);try{await (0,d.signIn)("github",{callbackUrl:A})}catch(a){console.error("GitHub sign in error:",a),r(!1)}}return(0,c.useEffect)(()=>{let a=B.watch(()=>{s&&t("")});return()=>a.unsubscribe()},[B,s]),(0,c.useEffect)(()=>{!async function(){await (0,d.getSession)()&&a.push(A)}()},[A,a]),(0,b.jsxs)("div",{className:"max-w-lg mx-auto p-8 bg-white dark:bg-zinc-900 rounded-2xl shadow-xl",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-8",children:"Welcome Back"}),s&&(0,b.jsx)("div",{className:"mb-4 p-3 rounded-md bg-red-100 text-red-700 text-sm border border-red-200",children:s}),(0,b.jsx)(k.Form,{...B,children:(0,b.jsxs)("form",{onSubmit:B.handleSubmit(C),noValidate:!0,className:"space-y-6",children:[(0,b.jsx)(k.FormField,{control:B.control,name:"identifier",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Email or Username"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.Input,{...a,type:"text",placeholder:"Enter your email or username",disabled:o||q,autoComplete:"username"})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:B.control,name:"password",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Password"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.Input,{...a,type:"password",placeholder:"Enter your password",disabled:o||q,autoComplete:"current-password"})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)(i.default,{href:"/forgot-password",className:"text-sm text-primary underline",children:"Forgot your password?"})}),(0,b.jsx)(j.Button,{type:"submit",className:"w-full",disabled:o||q,children:o?"Signing in...":"Sign In"})]})}),(0,b.jsxs)("div",{className:"relative my-6",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,b.jsx)("div",{className:"w-full border-t"})}),(0,b.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,b.jsx)("span",{className:"bg-white dark:bg-zinc-900 px-2 text-gray-500",children:"or"})})]}),(0,b.jsxs)(j.Button,{variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:D,disabled:o||q,children:[(0,b.jsx)(m.Github,{className:"w-5 h-5"}),q?"Connecting...":"Continue with GitHub"]}),(0,b.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Donâ€™t have an account?"," ",(0,b.jsx)(i.default,{href:"/signup",className:"text-primary underline",children:"Sign Up"})]}),u&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center px-4",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:w}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:y}),(0,b.jsx)(j.Button,{onClick:()=>v(!1),className:"w-full",children:"Close"})]})})]})}}];

//# sourceMappingURL=_f21491ec._.js.map