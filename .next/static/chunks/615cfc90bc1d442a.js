(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17521,69638,e=>{"use strict";e.s(["default",()=>s],17521);var a=e.i(75254);let s=(0,a.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["CheckCircle",()=>t],69638);let t=(0,a.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7206,e=>{"use strict";e.s(["default",()=>p],7206);var a=e.i(43476),s=e.i(71645),t=e.i(17255),r=e.i(81949),l=e.i(53145),n=e.i(81307),i=e.i(94814);function c(e,a){let s;return function(){for(var t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];clearTimeout(s),s=setTimeout(()=>e(...r),a)}}var d=e.i(67881),m=e.i(74946),o=e.i(23750),u=e.i(50682),x=e.i(17521),x=x,h=e.i(69638);let g=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var y=e.i(22016);let j=n.z.object({fullName:n.z.string().min(2,"Full Name must be at least 2 characters"),email:n.z.string().email("Invalid email address"),username:n.z.string().min(3,"Username must be at least 3 characters"),password:n.z.string().min(6,"Password must be at least 6 characters")});function p(){let e=(0,l.useForm)({resolver:(0,i.zodResolver)(j),defaultValues:{fullName:"",email:"",username:"",password:""}}),[n,p]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),[N,v]=(0,s.useState)(!1),[k,w]=(0,s.useState)(null),[F,C]=(0,s.useState)(null),[S,I]=(0,s.useState)(!1),[z,U]=(0,s.useState)(""),[A,M]=(0,s.useState)(!1),E=(0,s.useMemo)(()=>c(async e=>{if(!e||!e.includes("@")){w(null),b(!1);return}b(!0);try{let a=await r.default.get("/api/check-email?email=".concat(encodeURIComponent(e)));w(a.data.available)}catch(e){w(null)}finally{b(!1)}},500),[]),T=(0,s.useMemo)(()=>c(async e=>{if(!e||e.length<3){C(null),v(!1);return}v(!0);try{let a=await r.default.get("/api/check-username?username=".concat(encodeURIComponent(e)));C(a.data.available)}catch(e){C(null)}finally{v(!1)}},500),[]),B=e.watch("email"),L=e.watch("username");async function P(s){p(!0);try{await r.default.post("/api/auth/signup",s),U((0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{children:"âœ… Signup successful!"}),(0,a.jsx)("p",{children:"A verification link has been sent to your email."}),(0,a.jsx)("p",{children:"Please check your inbox to verify your account."})]})),I(!0),e.reset(),w(null),C(null)}catch(s){let e="Something went wrong";if(r.default.isAxiosError(s)){var t,l;e=(null==(l=s.response)||null==(t=l.data)?void 0:t.error)||s.message}else s instanceof Error&&(e=s.message);U((0,a.jsx)("p",{className:"text-red-600",children:e})),I(!0)}finally{p(!1)}}async function R(){M(!0);try{await (0,t.signIn)("github",{callbackUrl:"/"})}catch(e){console.error("GitHub sign up error:",e),M(!1)}}return(0,s.useEffect)(()=>{E(B)},[B,E]),(0,s.useEffect)(()=>{T(L)},[L,T]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"max-w-lg mx-auto p-8 bg-white dark:bg-zinc-900 rounded-2xl shadow-xl transition-all duration-300",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-8",children:"Create an Account"}),(0,a.jsx)(m.Form,{...e,children:(0,a.jsxs)("form",{onSubmit:e.handleSubmit(P),noValidate:!0,className:"space-y-6",children:[(0,a.jsx)(m.FormField,{control:e.control,name:"fullName",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.FormItem,{children:[(0,a.jsx)(m.FormLabel,{className:"text-gray-700 dark:text-gray-300",children:"Full Name"}),(0,a.jsx)(m.FormControl,{children:(0,a.jsx)(o.Input,{...s,placeholder:"John Doe",disabled:n,className:"bg-gray-50 dark:bg-gray-800"})}),(0,a.jsx)(m.FormMessage,{})]})}}),(0,a.jsx)(m.FormField,{control:e.control,name:"email",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.FormItem,{className:"relative",children:[(0,a.jsx)(m.FormLabel,{className:"text-gray-700 dark:text-gray-300",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Input,{...s,type:"email",placeholder:"you@example.com",disabled:n,className:"bg-gray-50 dark:bg-gray-800 pr-10"}),(0,a.jsxs)("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:[f&&(0,a.jsx)(x.default,{className:"w-4 h-4 animate-spin text-gray-400"}),!f&&!0===k&&(0,a.jsx)(h.CheckCircle,{className:"w-4 h-4 text-green-500"}),!f&&!1===k&&(0,a.jsx)(g,{className:"w-4 h-4 text-red-500"})]})]}),B&&!f&&!1===k&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"Email is already in use."}),(0,a.jsx)(m.FormMessage,{})]})}}),(0,a.jsx)(m.FormField,{control:e.control,name:"username",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.FormItem,{className:"relative",children:[(0,a.jsx)(m.FormLabel,{className:"text-gray-700 dark:text-gray-300",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Input,{...s,placeholder:"yourusername",disabled:n,className:"bg-gray-50 dark:bg-gray-800 pr-10"}),(0,a.jsxs)("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:[N&&(0,a.jsx)(x.default,{className:"w-4 h-4 animate-spin text-gray-400"}),!N&&!0===F&&(0,a.jsx)(h.CheckCircle,{className:"w-4 h-4 text-green-500"}),!N&&!1===F&&(0,a.jsx)(g,{className:"w-4 h-4 text-red-500"})]})]}),L&&!N&&!1===F&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"Username is already taken."}),(0,a.jsx)(m.FormMessage,{})]})}}),(0,a.jsx)(m.FormField,{control:e.control,name:"password",render:e=>{let{field:s}=e;return(0,a.jsxs)(m.FormItem,{children:[(0,a.jsx)(m.FormLabel,{className:"text-gray-700 dark:text-gray-300",children:"Password"}),(0,a.jsx)(m.FormControl,{children:(0,a.jsx)(o.Input,{...s,type:"password",placeholder:"******",disabled:n,className:"bg-gray-50 dark:bg-gray-800"})}),(0,a.jsx)(m.FormMessage,{})]})}}),(0,a.jsx)(d.Button,{type:"submit",className:"w-full",disabled:n||!1===k||!1===F,children:n?(0,a.jsx)(a.Fragment,{children:"Signing up..."}):"Sign Up"}),(0,a.jsxs)("div",{className:"my-6 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-px flex-1 bg-gray-300 dark:bg-gray-700"}),(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"or"}),(0,a.jsx)("div",{className:"h-px flex-1 bg-gray-300 dark:bg-gray-700"})]}),(0,a.jsxs)(d.Button,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:R,disabled:n||A,children:[(0,a.jsx)(u.Github,{className:"w-5 h-5"}),A?"Connecting...":"Sign up with GitHub"]})]})}),(0,a.jsxs)("p",{className:"mt-6 text-center text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",(0,a.jsx)(y.default,{href:"/signin",className:"text-blue-600 hover:underline",children:"Sign in"})]})]}),S&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-6 max-w-sm w-full shadow-lg",children:[(0,a.jsx)("div",{children:z}),(0,a.jsx)("div",{className:"mt-4 flex justify-end",children:(0,a.jsx)(d.Button,{onClick:()=>I(!1),children:"Close"})})]})})]})}}]);