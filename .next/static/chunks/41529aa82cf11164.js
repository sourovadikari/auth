(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35803,e=>{"use strict";e.s(["default",()=>o]);var r=e.i(43476),s=e.i(71645),i=e.i(81949),t=e.i(53145),l=e.i(67881),a=e.i(74946),n=e.i(23750);function o(){let[e,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),x=(0,t.useForm)({defaultValues:{identifier:""}});async function h(e){o(!1),c(""),m(!0);try{let r=await i.default.post("/api/auth/forgot-password",{identifier:e});c(r.data.message||"Verification link sent successfully. Please check your email."),o(!0),x.reset()}catch(e){var r,s;c((null==(s=e.response)||null==(r=s.data)?void 0:r.error)||e.message||"An error occurred."),o(!0)}finally{m(!1)}}async function f(e){await h(e.identifier)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"max-w-md mx-auto p-6",children:[(0,r.jsx)("h1",{className:"mb-6 text-center text-3xl font-semibold",children:"Forgot Password"}),(0,r.jsx)(a.Form,{...x,children:(0,r.jsxs)("form",{onSubmit:x.handleSubmit(f),noValidate:!0,children:[(0,r.jsx)(a.FormField,{control:x.control,name:"identifier",rules:{required:"Email or username is required"},render:e=>{var s;let{field:i,fieldState:t}=e;return(0,r.jsxs)(a.FormItem,{children:[(0,r.jsx)(a.FormLabel,{children:"Email or Username"}),(0,r.jsx)(a.FormControl,{children:(0,r.jsx)(n.Input,{...i,type:"text",placeholder:"Enter your email or username",autoComplete:"username",disabled:u})}),(0,r.jsx)(a.FormMessage,{children:null==(s=t.error)?void 0:s.message})]})}}),(0,r.jsx)(l.Button,{type:"submit",className:"mt-6 w-full",disabled:u,children:u?"Sending...":"Send Verification Link"})]})})]}),e&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-6 max-w-sm w-full shadow-lg",children:[(0,r.jsx)("p",{children:d}),(0,r.jsx)("div",{className:"mt-4 flex justify-end",children:(0,r.jsx)(l.Button,{onClick:()=>o(!1),children:"Close"})})]})})]})}}]);